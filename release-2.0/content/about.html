

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>About Flink CDC &mdash; Flink CDC 2.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Connectors" href="connectors/index.html" />
    <link rel="prev" title="Welcome to Flink CDC" href="../index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Flink CDC
          

          
          </a>

          
            
            
              <div class="version">
                release-2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">About Flink CDC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#supported-connectors">Supported Connectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#supported-formats">Supported Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="#supported-flink-versions">Supported Flink Versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#features">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage-for-table-sql-api">Usage for Table/SQL API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage-for-datastream-api">Usage for DataStream API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-from-source">Building from source</a></li>
<li class="toctree-l2"><a class="reference internal" href="#license">License</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="connectors/index.html">Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="formats/index.html">Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloads.html">Downloads</a></li>
<li class="toctree-l1"><a class="reference internal" href="githublink.html"><a class="github-button" href="https://github.com/ververica/flink-cdc-connectors" data-color-scheme="no-preference: dark_high_contrast; light: dark_high_contrast; dark: dark_high_contrast;" data-size="large" data-show-count="true" aria-label="Star ververica/flink-cdc-connectors on GitHub">Star</a></a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Flink CDC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>About Flink CDC</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/ververica/flink-cdc-connectors/blob/release-2.0content/about.md" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section class="tex2jax_ignore mathjax_ignore" id="about-flink-cdc">
<h1>About Flink CDC<a class="headerlink" href="#about-flink-cdc" title="Permalink to this headline">¶</a></h1>
<p>Flink CDC Connectors is a set of source connectors for <a href="https://flink.apache.org/">Apache Flink</a>, ingesting changes from different databases using change data capture (CDC).
The Flink CDC Connectors integrates Debezium as the engine to capture data changes. So it can fully leverage the ability of Debezium. See more about what is <a class="reference external" href="https://github.com/debezium/debezium">Debezium</a>.</p>
<section id="supported-connectors">
<h2>Supported Connectors<a class="headerlink" href="#supported-connectors" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Database</p></th>
<th class="head"><p>Version</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>MySQL</p></td>
<td><p>Database: 5.7, 8.0.x <br/>JDBC Driver: 8.0.16</p></td>
</tr>
<tr class="row-odd"><td><p>PostgreSQL</p></td>
<td><p>Database: 9.6, 10, 11, 12 <br/>JDBC Driver: 42.2.12</p></td>
</tr>
</tbody>
</table>
</section>
<section id="supported-formats">
<h2>Supported Formats<a class="headerlink" href="#supported-formats" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Format</p></th>
<th class="head"><p>Supported Connector</p></th>
<th class="head"><p>Flink Version</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a href="https://github.com/ververica/flink-cdc-connectors/wiki/Changelog-JSON-Format">Changelog Json</a></p></td>
<td><p><a href="https://ci.apache.org/projects/flink/flink-docs-release-1.13/dev/table/connectors/kafka.html">Apache Kafka</a></p></td>
<td><p>1.11+</p></td>
</tr>
</tbody>
</table>
</section>
<section id="supported-flink-versions">
<h2>Supported Flink Versions<a class="headerlink" href="#supported-flink-versions" title="Permalink to this headline">¶</a></h2>
<p>The version mapping between Flink CDC Connectors and Flink.</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Flink CDC Connector Version</p></th>
<th class="head"><p>Flink Version</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1.0.0</p></td>
<td><p>1.11.*</p></td>
</tr>
<tr class="row-odd"><td><p>1.1.0</p></td>
<td><p>1.11.*</p></td>
</tr>
<tr class="row-even"><td><p>1.2.0</p></td>
<td><p>1.12.*</p></td>
</tr>
<tr class="row-odd"><td><p>1.3.0</p></td>
<td><p>1.12.*</p></td>
</tr>
<tr class="row-even"><td><p>1.4.0</p></td>
<td><p>1.13.*</p></td>
</tr>
<tr class="row-odd"><td><p>2.0.*</p></td>
<td><p>1.13.*</p></td>
</tr>
</tbody>
</table>
</section>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p>Supports reading database snapshot and continues to read binlogs with <strong>exactly-once processing</strong> even failures happen.</p></li>
<li><p>CDC connectors for DataStream API, users can consume changes on multiple databases and tables in a single job without Debezium and Kafka deployed.</p></li>
<li><p>CDC connectors for Table/SQL API, users can use SQL DDL to create a CDC source to monitor changes on a single table.</p></li>
</ol>
</section>
<section id="usage-for-table-sql-api">
<h2>Usage for Table/SQL API<a class="headerlink" href="#usage-for-table-sql-api" title="Permalink to this headline">¶</a></h2>
<p>We need several steps to setup a Flink cluster with the provided connector.</p>
<ol class="simple">
<li><p>Setup a Flink cluster with version 1.12+ and Java 8+ installed.</p></li>
<li><p>Download the connector SQL jars from the <a class="reference internal" href="downloads.html"><span class="doc std std-doc">Downloads</span></a> page (or <a class="reference external" href="#building-from-source">build yourself</a>).</p></li>
<li><p>Put the downloaded jars under <code class="docutils literal notranslate"><span class="pre">FLINK_HOME/lib/</span></code>.</p></li>
<li><p>Restart the Flink cluster.</p></li>
</ol>
<p>The example shows how to create a MySQL CDC source in <a class="reference external" href="https://ci.apache.org/projects/flink/flink-docs-release-1.13/dev/table/sqlClient.html">Flink SQL Client</a> and execute queries on it.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- creates a mysql cdc table source</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">mysql_binlog</span> <span class="p">(</span>
 <span class="n">id</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
 <span class="n">name</span> <span class="n">STRING</span><span class="p">,</span>
 <span class="n">description</span> <span class="n">STRING</span><span class="p">,</span>
 <span class="n">weight</span> <span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span>
 <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">(</span><span class="n">id</span><span class="p">)</span> <span class="k">NOT</span> <span class="n">ENFORCED</span>
<span class="p">)</span> <span class="k">WITH</span> <span class="p">(</span>
 <span class="s1">&#39;connector&#39;</span> <span class="o">=</span> <span class="s1">&#39;mysql-cdc&#39;</span><span class="p">,</span>
 <span class="s1">&#39;hostname&#39;</span> <span class="o">=</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span>
 <span class="s1">&#39;port&#39;</span> <span class="o">=</span> <span class="s1">&#39;3306&#39;</span><span class="p">,</span>
 <span class="s1">&#39;username&#39;</span> <span class="o">=</span> <span class="s1">&#39;flinkuser&#39;</span><span class="p">,</span>
 <span class="s1">&#39;password&#39;</span> <span class="o">=</span> <span class="s1">&#39;flinkpw&#39;</span><span class="p">,</span>
 <span class="s1">&#39;database-name&#39;</span> <span class="o">=</span> <span class="s1">&#39;inventory&#39;</span><span class="p">,</span>
 <span class="s1">&#39;table-name&#39;</span> <span class="o">=</span> <span class="s1">&#39;products&#39;</span>
<span class="p">);</span>

<span class="c1">-- read snapshot and binlog data from mysql, and do some transformation, and show on the client</span>
<span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="k">UPPER</span><span class="p">(</span><span class="n">name</span><span class="p">),</span> <span class="n">description</span><span class="p">,</span> <span class="n">weight</span> <span class="k">FROM</span> <span class="n">mysql_binlog</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="usage-for-datastream-api">
<h2>Usage for DataStream API<a class="headerlink" href="#usage-for-datastream-api" title="Permalink to this headline">¶</a></h2>
<p>Include following Maven dependency (available through Maven Central):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;dependency&gt;
  &lt;groupId&gt;com.ververica&lt;/groupId&gt;
  &lt;!-- add the dependency matching your database --&gt;
  &lt;artifactId&gt;flink-connector-mysql-cdc&lt;/artifactId&gt;
  &lt;version&gt;2.0.2&lt;/version&gt;
&lt;/dependency&gt;
</pre></div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.apache.flink.streaming.api.environment.StreamExecutionEnvironment</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.apache.flink.streaming.api.functions.source.SourceFunction</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.ververica.cdc.debezium.StringDebeziumDeserializationSchema</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.ververica.cdc.connectors.mysql.MySqlSource</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MySqlBinlogSourceExample</span> <span class="p">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="p">{</span>
    <span class="n">Properties</span> <span class="n">debeziumProperties</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Properties</span><span class="p">();</span>
    <span class="n">debeziumProperties</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;snapshot.locking.mode&quot;</span><span class="p">,</span> <span class="s">&quot;none&quot;</span><span class="p">);</span><span class="c1">// do not use lock</span>
    <span class="n">SourceFunction</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">sourceFunction</span> <span class="o">=</span> <span class="n">MySqlSource</span><span class="p">.</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="n">builder</span><span class="p">()</span>
        <span class="p">.</span><span class="na">hostname</span><span class="p">(</span><span class="s">&quot;yourHostname&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="na">port</span><span class="p">(</span><span class="n">yourPort</span><span class="p">)</span>
        <span class="p">.</span><span class="na">databaseList</span><span class="p">(</span><span class="s">&quot;yourDatabaseName&quot;</span><span class="p">)</span> <span class="c1">// set captured database</span>
        <span class="p">.</span><span class="na">tableList</span><span class="p">(</span><span class="s">&quot;yourDatabaseName.yourTableName&quot;</span><span class="p">)</span> <span class="c1">// set captured table</span>
        <span class="p">.</span><span class="na">username</span><span class="p">(</span><span class="s">&quot;yourUsername&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="na">password</span><span class="p">(</span><span class="s">&quot;yourPassword&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="na">deserializer</span><span class="p">(</span><span class="k">new</span> <span class="n">StringDebeziumDeserializationSchema</span><span class="p">())</span> <span class="c1">// converts SourceRecord to String</span>
        <span class="p">.</span><span class="na">debeziumProperties</span><span class="p">(</span><span class="n">debeziumProperties</span><span class="p">)</span>
        <span class="p">.</span><span class="na">build</span><span class="p">();</span>

    <span class="n">StreamExecutionEnvironment</span> <span class="n">env</span> <span class="o">=</span> <span class="n">StreamExecutionEnvironment</span><span class="p">.</span><span class="na">getExecutionEnvironment</span><span class="p">();</span>

    <span class="n">env</span>
      <span class="p">.</span><span class="na">addSource</span><span class="p">(</span><span class="n">sourceFunction</span><span class="p">)</span>
      <span class="p">.</span><span class="na">print</span><span class="p">().</span><span class="na">setParallelism</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="c1">// use parallelism 1 for sink to keep message ordering</span>

    <span class="n">env</span><span class="p">.</span><span class="na">execute</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="building-from-source">
<h2>Building from source<a class="headerlink" href="#building-from-source" title="Permalink to this headline">¶</a></h2>
<p>Prerequisites:</p>
<ul class="simple">
<li><p>git</p></li>
<li><p>Maven</p></li>
<li><p>At least Java 8</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ververica</span><span class="o">/</span><span class="n">flink</span><span class="o">-</span><span class="n">cdc</span><span class="o">-</span><span class="n">connectors</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">flink</span><span class="o">-</span><span class="n">cdc</span><span class="o">-</span><span class="n">connectors</span>
<span class="n">mvn</span> <span class="n">clean</span> <span class="n">install</span> <span class="o">-</span><span class="n">DskipTests</span>
</pre></div>
</div>
<p>Flink CDC Connectors is now available at your local <code class="docutils literal notranslate"><span class="pre">.m2</span></code> repository.</p>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>The code in this repository is licensed under the <a class="reference external" href="https://github.com/ververica/flink-cdc-connectors/blob/master/LICENSE">Apache Software License 2</a>.</p>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="connectors/index.html" class="btn btn-neutral float-right" title="Connectors" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../index.html" class="btn btn-neutral float-left" title="Welcome to Flink CDC" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, ververica.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  <!--
  ~ Licensed to the Apache Software Foundation (ASF) under one
  ~ or more contributor license agreements.  See the NOTICE file
  ~ distributed with this work for additional information
  ~ regarding copyright ownership.  The ASF licenses this file
  ~ to you under the Apache License, Version 2.0 (the
  ~ "License"); you may not use this file except in compliance
  ~ with the License.  You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
-->



<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      version: release-2.0
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        
        <dl>
            <dt>Versions</dt>
            
            
            <dd><a href="/flink-cdc-connectors/master/">master</a></dd>
            
            
            
            <dd><a href="/flink-cdc-connectors/release-1.4/">release-1.4</a></dd>
            
            
             <strong> 
            <dd><a href="/flink-cdc-connectors/release-2.0/">release-2.0</a></dd>
             </strong> 
            
            
            <dd><a href="/flink-cdc-connectors/release-2.1/">release-2.1</a></dd>
            
            
            
            <dd><a href="/flink-cdc-connectors/release-2.2/">release-2.2</a></dd>
            
            
        </dl>
        
        
        <hr/>
        Free document hosting provided by <a href="http://www.readthedocs.org">Read the
        Docs</a>.

    </div>
</div>

<!-- Place this tag in your head or just before your close body tag. -->
<script async defer
        src="https://ververica.github.io/flink-cdc-connectors/release-2.0/_static/button.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>